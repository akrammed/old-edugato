"use strict";(self.webpackChunkcodeneuron_templates=self.webpackChunkcodeneuron_templates||[]).push([[6468],{39504:(t,e,s)=>{s.d(e,{u:()=>n});var o=s(60492),n={id:null,title:"Section title",type:s(62632).UK.SECTION,navigationMode:o.mn.PER_BLOCK,blocks:[]}},2165:(t,e,s)=>{s.d(e,{Z:()=>n});const o={name:"AssessmentEditorSearchInput",props:{placeholder:{type:String,default:"Search"}},data:function(){return{searchString:""}},computed:{useValue:{get:function(){return this.searchString},set:function(t){this.searchString=t,this.$emit("changeValue",t)}},hasSearchString:function(){return this.searchString.length>0}},methods:{clearSearch:function(){this.useValue=""}}};const n=(0,s(51900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"lw-input-wrapper mt-10-sl mb-10 w-full pos-rel fg-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.useValue,expression:"useValue"}],staticClass:"pr-40 no-edit lw-input lw-input-small gray-bg lw-radius-small",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.useValue},on:{input:function(e){e.target.composing||(t.useValue=e.target.value)}}}),t._v(" "),t.hasSearchString?e("button",{staticClass:"filters-menu-delete-results",on:{click:t.clearSearch}}):e("div",{staticClass:"lw-input-search-btn au-icon"})])}),[],!1,null,null,null).exports},6468:(t,e,s)=>{s.r(e),s.d(e,{default:()=>ft});s(82526),s(38880),s(89554),s(54747),s(49337),s(33321),s(69070);var o=s(29439),n=s(4942),r=(s(26699),s(32023),s(57658),s(92222),s(47941),s(66992),s(38559),s(57327),s(41539),s(69720),s(20629)),i=s(33838);function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const l={name:"TocAddConditionalBlock",props:{propertyPath:{type:String,required:!0}},computed:{isIntroContentBlock:function(){return this.propertyPath.includes("".concat(i.Wp.INTRO_CONTENT))},buttonLabel:function(){return this.isIntroContentBlock?"Add starting screen":"Add ending screen"}},methods:c(c({},(0,r.nv)("editingTools",["setPropertyPathToAddConditionalBlock","setAddConditionalBlockModalDisplay"])),{},{showConditionalBlocksModal:function(){this.setPropertyPathToAddConditionalBlock(this.propertyPath),this.setAddConditionalBlockModalDisplay(!0)}})};var u=s(51900);const d=(0,u.Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-block"},[e("button",{staticClass:"flex a-i-c p-0 w-full cursor-pointer",on:{click:t.showConditionalBlocksModal}},[e("span",{staticClass:"p-6-6-6-4 mr-6 flex a-i-c j-c-c"},[e("svg",{staticClass:"block",attrs:{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M3.5 1V3.5M3.5 3.5V6M3.5 3.5H6M3.5 3.5H1",stroke:"#333333","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t._v(" "),e("span",{staticClass:"lbl-very-small bold grey2"},[t._v(t._s(t.buttonLabel))])])])}),[],!1,null,null,null).exports;var p=s(2165),h=(s(9653),s(91058),s(69600),s(47042),s(74916),s(15306),s(45129)),m=s(68485),b=s(52832);function v(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function f(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?v(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const g={name:"TocBlockButtons",props:{blocksArrayPath:{type:String,required:!0},blockIndex:{type:Number,required:!0},isHiddenFromPlayer:{type:Boolean,required:!1},isLastBlock:{type:Boolean,default:!1},showUnlinkButton:{type:Boolean,default:!1}},data:function(){return{moreButtonsHovered:!1}},computed:f(f(f(f(f({},(0,r.rn)(["assessment","copiedBlockData"])),(0,r.Se)(["imagePath"])),(0,r.Se)("editingTools",["selectedMutatableData"])),(0,r.Se)("navigation",["navigationMode"])),{},{canPasteBelow:function(){return!!this.copiedBlockData&&(0,b.JQ)(this.assessment,this.copiedBlockData)},visibilityButtonLabel:function(){return this.isHiddenFromPlayer?"Show":"Hide"},canBeSwappedUp:function(){return this.blockIndex>0},canBeSwappedDown:function(){return!this.isLastBlock},moreButtonsStyle:function(){var t,e;if(!this.moreButtonsHovered)return{};var s={right:"-5px",top:"26px"},o=document.querySelector(".js-toc-scroller"),n=null==this||null===(t=this.$el)||void 0===t?void 0:t.closest(".js-draggable-section"),r=null==this||null===(e=this.$el)||void 0===e?void 0:e.closest(".js-draggable-block"),i=Math.abs(n.offsetTop)+Math.abs(r.offsetTop)-o.offsetTop-o.scrollTop;return o.clientHeight-i<320&&(s.top="-233px"),s}}),methods:f(f(f(f({},(0,r.nv)(["deleteItemFromAssessment","duplicateItemInAssessment","changeItemIndexInAssessment","pasteItemInAssessment","copyItemInAssessment","cutItemInAssessment","setConditionalBlock"])),(0,r.nv)("editingTools",["openAddBlockModal","setDeleteMutatableModalDisplay","setIndexPathToDeleteMutatable"])),(0,r.nv)(["changeAssessmentData"])),{},{setMoreButtonsHovered:function(t){this.moreButtonsHovered=t},addBelow:function(){this.openAddBlockModal({indexPathToAddBlock:{parentPath:this.blocksArrayPath,index:this.blockIndex+1}})},duplicateItem:function(){this.duplicateItemInAssessment({arrayPath:this.blocksArrayPath,srcItemIndex:this.blockIndex})},moveBlockUp:function(){this.changeItemIndexInAssessment({arrayPath:this.blocksArrayPath,fromIndex:this.blockIndex,toIndex:this.blockIndex-1})},moveBlockDown:function(){this.changeItemIndexInAssessment({arrayPath:this.blocksArrayPath,fromIndex:this.blockIndex,toIndex:this.blockIndex+1})},cutBlock:function(){this.cutItemInAssessment({srcArrayPath:this.blocksArrayPath,srcItemIndex:this.blockIndex})},copyBlock:function(){this.copyItemInAssessment({srcArrayPath:this.blocksArrayPath,srcItemIndex:this.blockIndex})},pasteBelow:function(){this.pasteItemInAssessment({targetArrayPath:this.blocksArrayPath,targetItemIndex:this.blockIndex+1})},toggleBlockPlayerVisibility:function(){this.$emit("visibility-changed",!this.isHiddenFromPlayer)},deleteBlockAfterConfirm:function(){var t=this;this.setIndexPathToDeleteMutatable({arrayPath:this.blocksArrayPath,itemIndex:this.blockIndex}).then((function(){t.setDeleteMutatableModalDisplay(!0)}))},unsyncBlockAfterConfirm:function(){this.$lw.showMessage(m.zG.ALERT,"Unsync block","Are you sure you want to unsync this block?",[{name:"Unsync",func:this.unsyncBlock},{name:"Cancel"}])},unsyncBlock:function(){this.changeAssessmentData({propertyPath:"".concat(this.blocksArrayPath,".").concat(this.blockIndex,".syncedGroupId"),value:null})}})};const y=(0,u.Z)(g,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-block-buttons"},[e("button",{staticClass:"-add-q circle toc-block-button cursor-pointer",attrs:{title:"Add question below"},on:{click:function(e){return e.stopPropagation(),t.addBelow.apply(null,arguments)}}},[e("img",{staticClass:"au-icon w-18",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-add.svg"),alt:""}})]),t._v(" "),e("button",{staticClass:"toc-block-button cursor-pointer",attrs:{title:"Duplicate question"},on:{click:function(e){return e.stopPropagation(),t.duplicateItem.apply(null,arguments)}}},[e("img",{staticClass:"au-icon w-18",attrs:{src:"".concat(t.imagePath,"/author/images/svg/topbar/icon_s-clone.svg"),alt:""}})]),t._v(" "),e("div",{staticClass:"toc-view-more-buttons toc-block-button cursor-pointer",on:{mouseover:function(e){return t.setMoreButtonsHovered(!0)},mouseout:function(e){return t.setMoreButtonsHovered(!1)}}},[e("img",{staticClass:"au-icon w-18",attrs:{src:"".concat(t.imagePath,"/author/images/edit-dots-icon.png"),alt:"more options"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.moreButtonsHovered,expression:"moreButtonsHovered"}],ref:"moreButtons",staticClass:"lw-author-context-menu",style:t.moreButtonsStyle},[e("ul",{staticClass:"lw-author-context-menu-list"},[e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",class:{disabled:!t.canBeSwappedUp},on:{click:function(e){return e.stopPropagation(),t.moveBlockUp.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-arrowu.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Move up")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",class:{disabled:!t.canBeSwappedDown},on:{click:function(e){return e.stopPropagation(),t.moveBlockDown.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-arrowd.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Move down")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.cutBlock.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-cut.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Cut")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.copyBlock.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-copy.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Copy")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",class:{disabled:!t.canPasteBelow},on:{click:function(e){return e.stopPropagation(),t.pasteBelow.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-paste.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Paste")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.toggleBlockPlayerVisibility.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/icons/small/eye-off.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v(t._s(t.visibilityButtonLabel))])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[t.showUnlinkButton?e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.unsyncBlockAfterConfirm.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/resource-unsync.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Unsync")])]):t._e()]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.deleteBlockAfterConfirm.apply(null,arguments)}}},[e("img",{staticClass:"learnworlds-icon fsh-0 w-16 mr-5",attrs:{src:"".concat(t.imagePath,"/author/images/svg/icon_s-red-delete.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small lbl-red",staticStyle:{color:"#D83232"}},[t._v("Delete")])])])])])]),t._v(" "),e("div",{staticClass:"toc-buttons-overlay"})])}),[],!1,null,null,null).exports;var w=s(82124),k=s(60492);const P={name:"TocItemLabel",components:{AssessmentBlockIcon:w.Z},props:{itemType:{type:String,required:!0},itemNumber:{type:Number,required:!1}},computed:{hasLabelNumber:function(){return this.itemNumber&&this.itemNumber>0},labelStyles:function(){var t,e;return{backgroundColor:(null===(t=k.Aw[this.itemType])||void 0===t?void 0:t.labelColor)||"gray",color:(null===(e=k.Aw[this.itemType])||void 0===e?void 0:e.textColor)||"white"}},itemIcon:function(){var t;return(null===(t=k.Aw[this.itemType])||void 0===t?void 0:t.icon)||""},iconSize:function(){var t;return(null===(t=k.Aw[this.itemType])||void 0===t?void 0:t.size)||""},iconClass:function(){return"full"===this.iconSize?"toc-label-icon--full":"toc-label-icon"}}};const C=(0,u.Z)(P,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-item-label"},[t.hasLabelNumber?e("div",{staticClass:"toc-label-number lbl-very-small"},[t._v(t._s(t.itemNumber))]):e("div",{staticClass:"toc-label-dot au-icon"}),t._v(" "),e("div",{staticClass:"toc-label-icon-wrapper",style:t.labelStyles},[e("assessment-block-icon",{class:t.iconClass,attrs:{icon:t.itemIcon}})],1)])}),[],!1,null,null,null).exports;var O=s(84683),S=s(58395),_=s(93949),I=s(62632);function x(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function B(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?x(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):x(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const j={name:"TocBlock",components:{TocItemLabel:C,TocBlockButtons:y,SimpleBlockRenderer:h.Z},props:{block:{type:Object,required:!0},blockNumber:{type:Number,default:-1},propertyPath:{type:String,required:!0},hideButtons:{type:Boolean,default:!1},isLastBlock:{type:Boolean,default:!1}},computed:B(B(B(B({},(0,r.rn)("editingTools",["selectedMutatableDataPath"])),(0,r.Se)("navigation",["navigationMode"])),(0,r.Se)(["imagePath"])),{},{isSelectedBlock:function(){var t;return(null===(t=this.selectedMutatableDataPath)||void 0===t?void 0:t.includes(this.propertyPath))&&(0,O.A6)(this.selectedMutatableDataPath,"blocks")===this.blockIndex},blockIndex:function(){return parseInt(this.propertyPath.split(".").pop(),10)},blocksArrayPath:function(){return this.propertyPath.split(".").slice(0,-1).join(".")},friendlyBlockName:function(){return this.block.type.replace("-"," ")},isHiddenOnPlayer:function(){return this.block.blockData.hiddenOnPlayer},isLinked:function(){return!!this.block.syncedGroupId},blockWithFallback:function(){var t=(0,_.ut)(this.block);return t.type===k.bF.CONTENT&&""===(0,S.Z0)(t)&&(t.blockData.widgets=[{type:I.UK.TEXT_WIDGET,properties:{html:"Content block with widgets"}}]),t}}),methods:B(B(B({},(0,r.nv)("editingTools",["selectMutatable"])),(0,r.nv)(["changeAssessmentData"])),{},{selectBlock:function(){this.selectMutatable({mutatableType:this.block.type,mutatableDataPath:this.propertyPath})},updateBlockPlayerVisibility:function(t){this.changeAssessmentData({propertyPath:"".concat(this.propertyPath,".blockData.hiddenOnPlayer"),value:t})}})};const T=(0,u.Z)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-block js-draggable-block",class:{selected:t.isSelectedBlock,"hidden-on-player":t.isHiddenOnPlayer},attrs:{"data-toc-element-id":t.block.id},on:{click:function(e){return e.stopPropagation(),t.selectBlock.apply(null,arguments)}}},[t.hideButtons?t._e():e("div",{staticClass:"toc-draggable-handle--dots js-draggable-handle flex a-i-c j-c-c"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"15",viewBox:"0 0 9 13",fill:"none"}},[e("g",{attrs:{opacity:"0.7"}},[e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"2.0127",cy:"6.65405",r:"1.25",transform:"rotate(-90 2.0127 6.65405)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"2.0127",cy:"11.75",r:"1.25",transform:"rotate(-90 2.0127 11.75)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"2.0127",cy:"1.55798",r:"1.25",transform:"rotate(-90 2.0127 1.55798)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"7.1084",cy:"6.65405",r:"1.25",transform:"rotate(-90 7.1084 6.65405)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"7.1084",cy:"11.75",r:"1.25",transform:"rotate(-90 7.1084 11.75)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"7.1084",cy:"1.55798",r:"1.25",transform:"rotate(-90 7.1084 1.55798)"}})])])]),t._v(" "),e("toc-item-label",{attrs:{"item-type":t.block.type,"item-number":t.blockNumber}}),t._v(" "),e("simple-block-renderer",{staticClass:"ml-8 lbl-very-small clamp-two-lines flex-1",attrs:{block:t.blockWithFallback}}),t._v(" "),t.hideButtons?t._e():e("toc-block-buttons",{directives:[{name:"show",rawName:"v-show",value:!t.isHiddenOnPlayer,expression:"!isHiddenOnPlayer"}],attrs:{"blocks-array-path":t.blocksArrayPath,"block-index":t.blockIndex,"block-name":t.friendlyBlockName,"is-hidden-from-player":t.isHiddenOnPlayer,"is-last-block":t.isLastBlock,"show-unlink-button":t.isLinked},on:{"visibility-changed":t.updateBlockPlayerVisibility}}),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isLinked,expression:"isLinked"}],staticClass:"toc-visibility-button"},[e("img",{attrs:{src:"".concat(t.imagePath,"/author/images/svg/resource-sync.svg"),alt:""}})]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isHiddenOnPlayer,expression:"isHiddenOnPlayer"}],staticClass:"toc-visibility-button",on:{click:function(e){return t.updateBlockPlayerVisibility(!1)}}},[e("img",{attrs:{src:"".concat(t.imagePath,"/author/images/icons/small/eye-off.svg"),alt:""}})]),t._v(" "),e("transition",{attrs:{name:"toc-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedBlock,expression:"isSelectedBlock"}],staticClass:"toc-block-selected-overlay"})])],1)}),[],!1,null,null,null).exports;function A(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function D(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?A(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):A(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const E={name:"TocSearchResults",components:{TocBlock:T},props:{foundBlocks:{type:Array,default:function(){return[]}}},computed:D(D({},(0,r.Se)(["questionIdToLabelNumber"])),{},{hasResults:function(){return this.foundBlocks.length>0},label:function(){return this.hasResults?"Search results:":"No results found"}})};const M=(0,u.Z)(E,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-sidebar--questions-list-wrapper bb-1px-lightGray"},[e("div",{staticClass:"toc-sidebar-row"},[e("div",{staticClass:"talign-c w-full p-0-10"},[e("span",{staticClass:"no-content-msg-txt"},[t._v(t._s(t.label))])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasResults,expression:"hasResults"}],staticClass:"questions-list"},t._l(t.foundBlocks,(function(s){return e("toc-block",{key:s.id,attrs:{block:s,"property-path":s.propertyPath,"block-number":t.questionIdToLabelNumber[s.id],"hide-buttons":!0}})})),1)])}),[],!1,null,null,null).exports;var N=s(39504);function R(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function Z(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?R(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):R(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const L={name:"TocAddSection",computed:Z({},(0,r.rn)(["assessment"])),methods:Z(Z({},(0,r.nv)(["addItemInAssessment"])),{},{addSection:function(){var t=this.assessment.sections.length,e=(0,b.G2)((0,_.ut)(N.u));e.title="Section ".concat(t+1),this.addItemInAssessment({arrayPath:"sections",itemData:e,index:-1})}})};const q=(0,u.Z)(L,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-sidebar-row",staticStyle:{display:"none"}},[e("button",{staticClass:"flex a-i-c p-0 w-full cursor-pointer",on:{click:t.addSection}},[e("span",{staticClass:"p-6-6-6-4 mr-6 ml-20 flex a-i-c j-c-c"},[e("svg",{attrs:{width:"7",height:"7",viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M3.5 1V3.5M3.5 3.5V6M3.5 3.5H6M3.5 3.5H1",stroke:"#333333","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t._v(" "),e("span",{staticClass:"lbl-very-small bold grey2"},[t._v("Add section")])])])}),[],!1,null,null,null).exports;function H(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function U(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?H(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):H(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const $={name:"TocAddBlock",props:{blocksArrayPath:{type:String,required:!0}},methods:U(U({},(0,r.nv)("editingTools",["openAddBlockModal"])),{},{addBlock:function(){this.openAddBlockModal({indexPathToAddBlock:{parentPath:this.blocksArrayPath,index:-1}})}})};const V=(0,u.Z)($,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-add-block",on:{click:function(e){return e.stopPropagation(),t.addBlock.apply(null,arguments)}}},[e("div",{staticClass:"toc-item-label grey5-bg ml-9"},[e("svg",{staticClass:"au-icon",attrs:{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M5.5 1V5.5M5.5 5.5V10M5.5 5.5H10M5.5 5.5H1",stroke:"#333333","stroke-width":"1.16667","stroke-linecap":"round","stroke-linejoin":"round"}})])]),t._v(" "),t._m(0)])}),[function(){var t=this._self._c;return t("div",{staticClass:"ml-10 clamp-two-lines flex-1"},[t("span",{staticClass:"lbl-very-small bold grey2"},[this._v("Add/Import question")])])}],!1,null,null,null).exports;s(80673);function Q(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function F(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Q(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const W={name:"TocSectionButtons",props:{propertyPath:{type:String,required:!0}},data:function(){return{ASSESSMENT_TYPES:k.Q5,moreButtonsHovered:!1}},computed:F(F(F(F({},(0,r.rn)(["assessment","copiedSectionData"])),(0,r.Se)("editingTools",["selectedMutatableData"])),(0,r.Se)(["assessmentTypeIs"])),{},{canPasteBelow:function(){return!!this.copiedSectionData&&(0,b.gD)(this.assessment,this.copiedSectionData)},sectionIndex:function(){return parseInt(this.propertyPath.split(".").pop(),10)},sectionsLength:function(){return this.assessment.sections.length},canBeSwappedUp:function(){return this.sectionIndex>0},canBeSwappedDown:function(){return this.sectionIndex<this.sectionsLength-1},moreButtonsStyle:function(){var t;if(!this.moreButtonsHovered)return{};var e={right:"-5px",top:"22px"},s=document.querySelector(".js-toc-scroller"),o=null==this||null===(t=this.$el)||void 0===t?void 0:t.closest(".js-draggable-section"),n=Math.abs(o.offsetTop)-s.offsetTop-s.scrollTop;return s.clientHeight-n<140&&(e.top="-100px"),e}}),methods:F(F(F({},(0,r.nv)(["addItemInAssessment","duplicateItemInAssessment","deleteItemFromAssessment","changeItemIndexInAssessment","pasteItemInAssessment","copyItemInAssessment"])),(0,r.nv)("editingTools",["setDeleteMutatableModalDisplay","setIndexPathToDeleteMutatable"])),{},{setMoreButtonsHovered:function(t){this.moreButtonsHovered=t},addSectionBelow:function(){var t=this.sectionsLength,e=(0,b.G2)((0,_.ut)(N.u));e.title="Section ".concat(t+1),this.addItemInAssessment({arrayPath:"sections",itemData:e,index:this.sectionIndex+1})},duplicateSection:function(){this.duplicateItemInAssessment({arrayPath:"sections",srcItemIndex:this.sectionIndex})},moveSectionUp:function(){this.changeItemIndexInAssessment({arrayPath:"sections",fromIndex:this.sectionIndex,toIndex:this.sectionIndex-1})},moveSectionDown:function(){this.changeItemIndexInAssessment({arrayPath:"sections",fromIndex:this.sectionIndex,toIndex:this.sectionIndex+1})},deleteSectionAfterConfirm:function(){var t=this;this.setIndexPathToDeleteMutatable({arrayPath:"sections",itemIndex:this.sectionIndex}).then((function(){t.setDeleteMutatableModalDisplay(!0)}))},copySection:function(){this.copyItemInAssessment({srcArrayPath:"sections",srcItemIndex:this.sectionIndex})},pasteSection:function(){this.pasteItemInAssessment({targetArrayPath:"sections",targetItemIndex:this.sectionIndex+1})}})};const G=(0,u.Z)(W,(function(){var t=this,e=t._self._c;return e("div",{ref:"wrapper",staticClass:"toc-section-buttons"},[e("div",{staticClass:"toc-view-more-buttons cursor-pointer",on:{mouseenter:function(e){return t.setMoreButtonsHovered(!0)},mouseleave:function(e){return t.setMoreButtonsHovered(!1)}}},[e("img",{staticClass:"au-icon",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/edit-dots-icon.png"),alt:"more options"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.moreButtonsHovered,expression:"moreButtonsHovered"}],ref:"moreButtons",staticClass:"lw-author-context-menu",style:t.moreButtonsStyle},[e("ul",{staticClass:"lw-author-context-menu-list"},[e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.addSectionBelow.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon_s-add.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Add section")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.duplicateSection.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/topbar/icon_s-clone.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Duplicate")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",class:{disabled:!t.canBeSwappedUp},on:{click:function(e){return e.stopPropagation(),t.moveSectionUp.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon_s-arrowu.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Move up")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",class:{disabled:!t.canBeSwappedDown},on:{click:function(e){return e.stopPropagation(),t.moveSectionDown.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon_s-arrowd.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Move down")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.copySection.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon_s-copy.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Copy")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",class:{disabled:!t.canPasteBelow},on:{click:function(e){return e.stopPropagation(),t.pasteSection.apply(null,arguments)}}},[e("img",{staticClass:"au-icon learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon_s-paste.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small grey2"},[t._v("Paste")])])]),t._v(" "),e("li",{staticClass:"lw-author-context-menu-list-item"},[e("button",{staticClass:"lw-author-context-menu-list-item-btn cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.deleteSectionAfterConfirm.apply(null,arguments)}}},[e("img",{staticClass:"learnworlds-icon fsh-0 w-18 mr-5",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon_s-red-delete.svg"),alt:""}}),t._v(" "),e("span",{staticClass:"lbl-small lbl-red"},[t._v("Delete")])])])])])]),t._v(" "),e("div",{staticClass:"toc-buttons-overlay"})])}),[],!1,null,null,null).exports;var z=s(9980),K=s.n(z),Y=s(86422);function J(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function X(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?J(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):J(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const tt={name:"TocSection",components:{TocSectionButtons:G,TocAddBlock:V,TocBlock:T,draggable:K()},props:{section:{type:Object,required:!0},propertyPath:{type:String,required:!0}},data:function(){return{isCollapsed:!1,sortable:null}},computed:X(X(X(X(X({},(0,r.Se)(["questionIdToLabelNumber"])),(0,r.rn)("editingTools",["selectedMutatableDataPath"])),(0,r.rn)(["assessment"])),(0,r.Se)("navigation",["navigationMode"])),{},{sectionBlocksLength:function(){return this.section.blocks.length},sectionIndex:function(){return parseInt(this.propertyPath.split(".").pop(),10)},isSelectedSection:function(){return this.selectedMutatableDataPath===this.propertyPath},isEmptySection:function(){return 0===this.section.blocks.length},sectionNumber:function(){return this.sectionIndex>=0?this.sectionIndex+1:null},firstBlockId:function(){var t,e;return null!==(t=null===(e=this.section.blocks[0])||void 0===e?void 0:e.id)&&void 0!==t?t:null},hasContentDeliverySettingsEnabled:function(){return this.hasActiveDeliverableSubset||this.hasActiveQuestionRandomization},hasActiveDeliverableSubset:function(){return this.assessment.deliverableQuestionsSubsetType===k.UD.PER_SECTION&&null!==this.section.deliverableQuestionsSubsetCount&&void 0!==this.section.deliverableQuestionsSubsetCount},hasActiveQuestionRandomization:function(){return this.assessment.questionRandomizationType===k.S4.PER_SECTION&&this.section.randomizeQuestions},subsetQuestionCount:function(){return this.hasActiveDeliverableSubset?(0,b.YM)(this.section):this.gradableQuestionCount},gradableQuestionCount:function(){return(0,b.dL)(this.section)},sectionBlocks:{get:function(){return this.section.blocks},set:function(){}},draggableProps:function(){return{draggable:".js-draggable-block",handle:window.isMobile()||navigator.maxTouchPoints?".js-draggable-handle":".js-draggable-block",group:"toc-sections-group",animation:350,direction:"vertical"}}}),methods:X(X(X({},(0,r.nv)("editingTools",["selectMutatable"])),(0,r.nv)(["changeItemIndexInAssessment","deleteItemFromAssessment","addItemInAssessment","moveItemInAssessment"])),{},{setIsCollapse:function(t){this.isCollapsed=t},selectSection:function(){this.selectMutatable({mutatableType:I.UK.SECTION,mutatableDataPath:this.propertyPath})},onDraggableChange:function(t){var e=t.added,s=t.moved;if(e){var o=(0,Y.qR)(this.assessment,e.element.id),n=o.sectionIndex,r=o.blockIndex;if(-1===n||-1===r)return void console.error("Something went wrong locating the original indexes");this.moveItemInAssessment({srcArrayPath:"sections.".concat(n,".blocks"),srcItemIndex:r,targetArrayPath:"".concat(this.propertyPath,".blocks"),targetItemIndex:e.newIndex})}s&&this.changeItemIndexInAssessment({arrayPath:"".concat(this.propertyPath,".blocks"),fromIndex:s.oldIndex,toIndex:s.newIndex})}})};const et=(0,u.Z)(tt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-section js-draggable-section",class:{selected:t.isSelectedSection},attrs:{"data-toc-element-id":t.section.id},on:{click:t.selectSection}},[e("div",{staticClass:"toc-section--header js-draggable-handle"},[e("div",{staticClass:"toc-draggable-handle--dots flex a-i-c j-c-c"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"11",height:"15",viewBox:"0 0 9 13",fill:"none"}},[e("g",{attrs:{opacity:"0.7"}},[e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"2.0127",cy:"6.65405",r:"1.25",transform:"rotate(-90 2.0127 6.65405)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"2.0127",cy:"11.75",r:"1.25",transform:"rotate(-90 2.0127 11.75)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"2.0127",cy:"1.55798",r:"1.25",transform:"rotate(-90 2.0127 1.55798)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"7.1084",cy:"6.65405",r:"1.25",transform:"rotate(-90 7.1084 6.65405)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"7.1084",cy:"11.75",r:"1.25",transform:"rotate(-90 7.1084 11.75)"}}),t._v(" "),e("circle",{staticClass:"lw-currentColor-fill",attrs:{cx:"7.1084",cy:"1.55798",r:"1.25",transform:"rotate(-90 7.1084 1.55798)"}})])])]),t._v(" "),e("button",{staticClass:"toc-chevron lbl-light-gray",class:{collapsed:t.isCollapsed},attrs:{title:t.isCollapsed?"Expand Section":"Collapse Section"},on:{click:function(e){return t.setIsCollapse(!t.isCollapsed)}}}),t._v(" "),e("div",{staticClass:"lbl-very-small grey2"},[e("span",{staticClass:"bold"},[t._v(t._s(t.section.title))]),t._v(" "),t.hasContentDeliverySettingsEnabled?e("span",[t._v("\n                ("),t.hasActiveQuestionRandomization?e("span",[t._v("ðŸ”€ ")]):t._e(),t._v("Pick "+t._s(t.subsetQuestionCount)+" from "+t._s(t.gradableQuestionCount)+")\n            ")]):t._e()]),t._v(" "),e("toc-section-buttons",{attrs:{"property-path":t.propertyPath,"section-title":t.section.title}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],staticClass:"toc-section--content"},[e("draggable",t._b({staticClass:"toc-section-blocks",on:{change:t.onDraggableChange},model:{value:t.sectionBlocks,callback:function(e){t.sectionBlocks=e},expression:"sectionBlocks"}},"draggable",t.draggableProps,!1),t._l(t.sectionBlocks,(function(s,o){return e("toc-block",{key:s.id,attrs:{"property-path":"".concat(t.propertyPath,".blocks.").concat(o),block:s,"is-last-block":o===t.sectionBlocksLength-1,"block-number":t.questionIdToLabelNumber[s.id]}})})),1),t._v(" "),e("toc-add-block",{directives:[{name:"show",rawName:"v-show",value:t.isEmptySection,expression:"isEmptySection"}],attrs:{"blocks-array-path":"".concat(t.propertyPath,".blocks")}})],1),t._v(" "),e("transition",{attrs:{name:"toc-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedSection,expression:"isSelectedSection"}],staticClass:"toc-section-selected-overlay"})])],1)}),[],!1,null,null,null).exports;function st(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function ot(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?st(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):st(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const nt={name:"CertificateLearnerDetails",components:{AssessmentBlockIcon:w.Z},props:{propertyPath:{type:String,required:!0},section:{type:Object,required:!0}},computed:ot(ot({},(0,r.rn)("editingTools",["selectedMutatableDataPath"])),{},{blockIcon:function(){return"calendar"},isSelectedSection:function(){return this.selectedMutatableDataPath.includes(this.propertyPath)},sectionLabel:function(){return this.propertyPath.includes(k.Uo.CERTIFICATE)?"Certificate candidate details":this.section.title}}),methods:ot(ot({},(0,r.nv)("editingTools",["selectMutatable"])),{},{selectSystemSection:function(){this.selectMutatable({mutatableType:I.UK.SECTION,mutatableDataPath:this.propertyPath})}})};const rt=(0,u.Z)(nt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-conditional-block bb-1px-lightGray",class:{selected:t.isSelectedSection},on:{click:function(e){return e.stopPropagation(),t.selectSystemSection.apply(null,arguments)}}},[e("assessment-block-icon",{staticClass:"toc-label-icon ml-5",staticStyle:{width:"16px",height:"16px"},attrs:{icon:t.blockIcon}}),t._v(" "),e("div",{staticClass:"ml-8 lbl-very-small clamp-two-lines flex-1"},[t._v(" "+t._s(t.sectionLabel)+" ")]),t._v(" "),e("transition",{attrs:{name:"toc-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedSection,expression:"isSelectedSection"}],staticClass:"toc-block-selected-overlay"})])],1)}),[],!1,null,null,null).exports;function it(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function at(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?it(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):it(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const ct={name:"TocConditionalBlockButtons",props:{propertyPath:{type:String,required:!0}},computed:at(at({},(0,r.Se)(["isAssessmentCertificate","assessmentTypeIs"])),{},{isIntroContentBlock:function(){return this.propertyPath.includes("".concat(i.Wp.INTRO_CONTENT))},isOutroContentBlock:function(){return this.propertyPath.includes("".concat(i.Wp.OUTRO_CONTENT))},canReplaceConditionalBlock:function(){return!(this.isOutroContentBlock&&!this.assessmentTypeIs(k.Q5.SURVEY))}}),methods:at(at({},(0,r.nv)("editingTools",["setPropertyPathToAddConditionalBlock","setAddConditionalBlockModalDisplay"])),{},{showConditionalBlocksModal:function(){this.setPropertyPathToAddConditionalBlock(this.propertyPath),this.setAddConditionalBlockModalDisplay(!0)}})};const lt=(0,u.Z)(ct,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-conditional-block-buttons"},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.canReplaceConditionalBlock,expression:"canReplaceConditionalBlock"}],staticClass:"cursor-pointer",attrs:{title:"Replace"},on:{click:function(e){return e.stopPropagation(),t.showConditionalBlocksModal.apply(null,arguments)}}},[e("img",{attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/icon-replace-black.svg"),alt:"edit item"}})]),t._v(" "),e("div",{staticClass:"toc-block-buttons-overlay"})])}),[],!1,null,null,null).exports;function ut(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function dt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ut(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const pt={name:"TocConditionalBlock",components:{AssessmentBlockIcon:w.Z,TocConditionalBlockButtons:lt},props:{block:{type:Object,required:!0},propertyPath:{type:String,required:!0}},computed:dt(dt(dt({},(0,r.rn)(["assessment"])),(0,r.rn)("editingTools",["selectedMutatableDataPath"])),{},{isIntroContentBlock:function(){return this.propertyPath.includes("".concat(i.Wp.INTRO_CONTENT))},isOutroContentBlock:function(){return this.propertyPath.includes("".concat(i.Wp.OUTRO_CONTENT))},isSelectedBlock:function(){var t;return null===(t=this.selectedMutatableDataPath)||void 0===t?void 0:t.includes(this.propertyPath)},blockLabel:function(){return this.isIntroContentBlock?"Starting screen":"Ending screen"},blockIcon:function(){return this.isIntroContentBlock?"intro":"outro"},afterSubmitActionEnabled:function(){var t,e;return null!==(t=null===(e=this.assessment)||void 0===e?void 0:e.afterSubmitActionEnabled)&&void 0!==t&&t},tocConditionalBlockClasses:function(){return{selected:this.isSelectedBlock}}}),methods:dt(dt({},(0,r.nv)("editingTools",["selectMutatable"])),{},{selectBlock:function(){this.selectMutatable({mutatableType:this.block.type,mutatableDataPath:this.propertyPath})}})};const ht=(0,u.Z)(pt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"toc-conditional-block",class:t.tocConditionalBlockClasses,on:{click:function(e){return e.stopPropagation(),t.selectBlock.apply(null,arguments)}}},[e("assessment-block-icon",{staticClass:"toc-label-icon ml-5",staticStyle:{width:"16px",height:"16px"},attrs:{icon:t.blockIcon}}),t._v(" "),e("div",{staticClass:"ml-8 lbl-very-small clamp-two-lines flex-1"},[t._v(" "+t._s(t.blockLabel)+" ")]),t._v(" "),t.afterSubmitActionEnabled&&!t.isIntroContentBlock?e("button",{staticClass:"toc-visibility-button"},[e("img",{attrs:{src:"".concat(t.$lw.imagePath,"/author/images/icons/small/eye-off.svg"),alt:""}})]):e("toc-conditional-block-buttons",{attrs:{"property-path":t.propertyPath}}),t._v(" "),e("transition",{attrs:{name:"toc-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isSelectedBlock,expression:"isSelectedBlock"}],staticClass:"toc-block-selected-overlay"})])],1)}),[],!1,null,null,null).exports;function mt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function bt(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(s),!0).forEach((function(e){(0,n.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):mt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}const vt={name:"AssessmentEditorTOC",components:{AuthorEditorSideForm:s(55003).Z,TocConditionalBlock:ht,TocSearchResults:M,AssessmentEditorSearchInput:p.Z,TocAddConditionalBlock:d,TocAddSection:q,TocSection:et,TocSystemSection:rt,draggable:K()},data:function(){return{ASSESSMENT_TYPES:k.Q5,introBlockPropertyPath:"conditionalBlocks.".concat(i.Wp.INTRO_CONTENT),outroBlockPropertyPath:"conditionalBlocks.".concat(i.Wp.OUTRO_CONTENT),searchString:"",sortable:null,isTocOpenOnSmallScreens:!1}},computed:bt(bt(bt({},(0,r.rn)(["assessment"])),(0,r.Se)(["assessmentTypeIs"])),{},{hasIntroContentBlock:function(){return!!this.introBlockData.id},hasOutroContentBlock:function(){return!!this.outroBlockData.id},introBlockData:function(){var t,e,s;return null!==(t=null===(e=this.assessment)||void 0===e||null===(s=e.conditionalBlocks)||void 0===s?void 0:s[i.Wp.INTRO_CONTENT])&&void 0!==t?t:{}},outroBlockData:function(){var t,e,s;return null!==(t=null===(e=this.assessment)||void 0===e||null===(s=e.conditionalBlocks)||void 0===s?void 0:s[i.Wp.OUTRO_CONTENT])&&void 0!==t?t:{}},showSearchResults:function(){return this.searchString.length>0},foundBlocks:function(){if(!this.showSearchResults)return[];for(var t=this.searchString.toLowerCase(),e=[],s=this.assessment.sections,o=s.length,n=0;n<o;n++)for(var r=s[n],i=r.blocks.length,a=0;a<i;a++){var c=r.blocks[a];(0,_.ju)((0,S.Z0)(c)).toLowerCase().includes(t)&&e.push(bt(bt({},c),{},{propertyPath:"sections.".concat(n,".blocks.").concat(a),sectionId:r.id}))}return e},responsiveOpenClass:function(){return this.isTocOpenOnSmallScreens?"toc-open":""},rtlClass:function(){return"".concat(window.SITE_RTL?"rtl":"")},hasSystemSections:function(){return Object.keys(this.systemSectionsToRender).length>0},systemSectionsToRender:function(){var t;return null!==(t=this.assessment)&&void 0!==t&&t.systemSections?this.filterEnabledSystemSections(this.assessment.systemSections):{}},sectionsToRender:{get:function(){return this.assessment.sections},set:function(){}},draggableProps:function(){return{draggable:".js-draggable-section",handle:".js-draggable-handle",animation:350,direction:"vertical"}}}),methods:bt(bt(bt({},(0,r.nv)(["changeItemIndexInAssessment"])),(0,r.nv)("editingTools",["selectMutatable","openAddBlockModalBasedOnSelected"])),{},{updateSearchString:function(t){this.searchString=t},toggleTocOpen:function(){this.isTocOpenOnSmallScreens=!this.isTocOpenOnSmallScreens},onDraggableChange:function(t){var e=t.moved;e&&this.changeItemIndexInAssessment({arrayPath:"sections",fromIndex:e.oldIndex,toIndex:e.newIndex})},filterEnabledSystemSections:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.fromEntries(Object.entries(t).filter((function(t){var e=(0,o.Z)(t,2);e[0];return e[1].isEnabled})))}})};const ft=(0,u.Z)(vt,(function(){var t=this,e=t._self._c;return e("author-editor-side-form",t._g(t._b({scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"flex a-i-c"},[e("div",{staticClass:"lbl-normal grey2 weight-500 mr-5"},[t._v("Questions")]),t._v(" "),t.assessmentTypeIs(t.ASSESSMENT_TYPES.CERTIFICATE_COMPLETION)?t._e():e("div",{staticClass:"cursor-pointer",attrs:{title:"Add question",alt:"Add question"},on:{click:t.openAddBlockModalBasedOnSelected}},[e("img",{staticClass:"pos-rel",staticStyle:{top:"1.5px"},attrs:{src:t.$lw.imagePath+"/author/images/svg/topbar/icon_s-add.svg",alt:"new icon"}})])])]},proxy:!0},{key:"contents",fn:function(){return[e("div",{staticClass:"flex flex-d-col h-full"},[e("div",{staticClass:"p-0-10"},[e("assessment-editor-search-input",{attrs:{placeholder:"Search questions"},on:{changeValue:t.updateSearchString}})],1),t._v(" "),t.showSearchResults?e("toc-search-results",{attrs:{"found-blocks":t.foundBlocks}}):[t.assessmentTypeIs(t.ASSESSMENT_TYPES.QUESTION_BANK)?t._e():e("div",{staticClass:"survey-intro bb-1px-lightGray"},[t.hasIntroContentBlock?e("toc-conditional-block",{attrs:{block:t.introBlockData,"property-path":t.introBlockPropertyPath}}):e("toc-add-conditional-block",{attrs:{"property-path":t.introBlockPropertyPath}})],1),t._v(" "),t.hasSystemSections?t._l(t.systemSectionsToRender,(function(t,s){return e("toc-system-section",{key:t.id,attrs:{propertyPath:"systemSections.".concat(s),section:t,"data-toc-element-id":t.id}})})):t._e(),t._v(" "),e("div",{staticClass:"toc-sidebar--questions-list-wrapper bb-1px-lightGray js-toc-scroller"},[e("draggable",t._b({staticClass:"questions-list",on:{change:t.onDraggableChange},model:{value:t.sectionsToRender,callback:function(e){t.sectionsToRender=e},expression:"sectionsToRender"}},"draggable",t.draggableProps,!1),[t._l(t.sectionsToRender,(function(t,s){return e("toc-section",{key:t.id,attrs:{propertyPath:"sections.".concat(s),section:t,"data-toc-element-id":t.id}})})),t._v(" "),e("toc-add-section",{attrs:{slot:"footer"},slot:"footer"})],2)],1),t._v(" "),t.assessmentTypeIs(t.ASSESSMENT_TYPES.QUESTION_BANK)?t._e():e("div",{staticClass:"survey-outro"},[t.hasOutroContentBlock?e("toc-conditional-block",{attrs:{block:t.outroBlockData,"property-path":t.outroBlockPropertyPath}}):e("toc-add-conditional-block",{attrs:{"property-path":t.outroBlockPropertyPath}})],1)]],2)]},proxy:!0}])},"author-editor-side-form",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null).exports},55003:(t,e,s)=>{s.d(e,{Z:()=>n});const o={name:"AuthorEditorSideForm",props:{hasPinButton:{type:Boolean,default:!0},isPinned:{type:Boolean,default:!1},position:{type:String,default:"right"}},computed:{positionClass:function(){return"left"===this.position?"lw-author-editor-sideform--left":"lw-author-editor-sideform--right"},pinButtonClass:function(){return{enabled:this.isPinned}}},methods:{closeSideForm:function(){this.$emit("close")},pinSideForm:function(){this.$emit("pin",!this.isPinned)}}};const n=(0,s(51900).Z)(o,(function(){var t=this,e=t._self._c;return e("aside",{staticClass:"lw-author-editor-sideform",class:t.positionClass},[e("nav",[e("header",{staticClass:"lw-author-editor-sideform__header flex a-i-c au-white-bg"},[e("div",{staticClass:"-learnworlds-sideform-header-contents"},[t._t("header")],2),t._v(" "),t.hasPinButton?e("div",{staticClass:"learnworlds-sideform-pin au-white-bg lw-hide-tp",class:t.pinButtonClass,on:{click:t.pinSideForm}},[e("img",{staticClass:"learnworlds-sideform-pin-icon au-icon w-20",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/pagesbuilder/pin-disabled.svg"),alt:"pin side bar"}})]):t._e(),t._v(" "),e("button",{staticClass:"lw-author-editor-sideform--left-close cursor-pointer",on:{click:t.closeSideForm}},[e("img",{staticClass:"au-icon",attrs:{src:"".concat(t.$lw.imagePath,"/author/images/svg/side-bar/close.svg"),alt:"close side bar"}})])]),t._v(" "),t._t("tabs"),t._v(" "),e("main",{staticClass:"h-full ov-auto"},[t._t("contents")],2)],2),t._v(" "),t._t("overlay")],2)}),[],!1,null,null,null).exports}}]);